- name: Set timezone to Asia/Tehran
  become: true
  copy:
    content: "Asia/Tehran"
    dest: /etc/timezone
    owner: root
    group: root
    mode: '0644'
  register: timezone

- name: Reconfigure Timezone Data (if changed)
  become: true
  shell: dpkg-reconfigure -f noninteractive tzdata
  when: timezone.changed
